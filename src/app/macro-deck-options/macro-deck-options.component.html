<div class="example-container">
  <div class="row">
    <div class="col-md-12">
      <h2>Device Settings</h2>
    </div>
  </div>
  <div class="form-container">
    <form [formGroup]="macrodeckOptions" (submit)="submit()" *ngIf="options | async; else loading">
      <div class="col-md-12">
        <mat-form-field class="form-field" appearance="outline">
          <mat-label> Website Fingerprint
          </mat-label>
          <input matInput formControlName="fingerprint" required>
          <mat-error *ngIf="macrodeckOptions.controls.fingerprint.touched && macrodeckOptions.controls.fingerprint.invalid">
            <span *ngIf="macrodeckOptions.controls.fingerprint.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="form-field" appearance="outline">
          <mat-label> Socket Host
          </mat-label>
          <input matInput formControlName="socketHost" required>
          <mat-error *ngIf="macrodeckOptions.controls.socketHost.touched && macrodeckOptions.controls.socketHost.invalid">
            <span *ngIf="macrodeckOptions.controls.socketHost.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="outline">
          <mat-label> Socket Port
          </mat-label>
          <input matInput formControlName="socketPort" type="number" required>
          <mat-error *ngIf="macrodeckOptions.controls.socketPort.touched && macrodeckOptions.controls.socketPort.invalid">
            <span *ngIf="macrodeckOptions.controls.socketPort.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="col-md-6">
        <mat-form-field class="form-field" appearance="outline">
          <mat-label> Amount of Buttons
          </mat-label>
          <input matInput formControlName="buttonCount" type="number" required>
          <mat-error *ngIf="macrodeckOptions.controls.buttonCount.touched && macrodeckOptions.controls.buttonCount.invalid">
            <span *ngIf="macrodeckOptions.controls.buttonCount.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="outline">
          <mat-label> Max Current in mV
          </mat-label>
          <input matInput formControlName="maxButtonAmp" type="number" required>
          <mat-error *ngIf="macrodeckOptions.controls.maxButtonAmp.touched && macrodeckOptions.controls.maxButtonAmp.invalid">
            <span *ngIf="macrodeckOptions.controls.maxButtonAmp.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
      </div>
      <mat-divider></mat-divider>
      <div class="row">
        <div class="col-md-12">
          <h2>MQTT Settings</h2>
        </div>
      </div>
      <div class="col-md-6">
        <mat-form-field class="form-field" appearance="outline">
          <mat-label> Client ID
          </mat-label>
          <input matInput formControlName="mqttClientID" required>
          <mat-error *ngIf="macrodeckOptions.controls.mqttClientID.touched && macrodeckOptions.controls.mqttClientID.invalid">
            <span *ngIf="macrodeckOptions.controls.mqttClientID.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="outline">
          <mat-label> Broker
          </mat-label>
          <input matInput formControlName="mqttBroker" required>
          <mat-error *ngIf="macrodeckOptions.controls.mqttBroker.touched && macrodeckOptions.controls.mqttBroker.invalid">
            <span *ngIf="macrodeckOptions.controls.mqttBroker.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="form-field" appearance="outline">
          <mat-label> Username
          </mat-label>
          <input matInput formControlName="mqttUsername" required>
          <mat-error *ngIf="macrodeckOptions.controls.mqttUsername.touched && macrodeckOptions.controls.mqttUsername.invalid">
            <span *ngIf="macrodeckOptions.controls.mqttUsername.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="outline">
          <mat-label> Password
          </mat-label>
          <input matInput formControlName="mqttPassword" type="password" required>
          <mat-error *ngIf="macrodeckOptions.controls.mqttPassword.touched && macrodeckOptions.controls.mqttPassword.invalid">
            <span *ngIf="macrodeckOptions.controls.mqttPassword.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="form-field" appearance="outline">
          <mat-label> Port
          </mat-label>
          <input matInput formControlName="mqttPort" required>
          <mat-error *ngIf="macrodeckOptions.controls.mqttPort.touched && macrodeckOptions.controls.mqttPort.invalid">
            <span *ngIf="macrodeckOptions.controls.mqttPort.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
      </div>
      <mat-divider></mat-divider>
      <div class="form-field">
        <div class="row">
          <div class="col-md-3">
            <mat-checkbox formControlName="development">Development Mode</mat-checkbox>
          </div>

          <div class="col-md-3">
            <mat-checkbox formControlName="calibrationMode">Calibration Mode</mat-checkbox>
          </div>
          <div class="col-md-3">
            <mat-checkbox formControlName="server">Web Server</mat-checkbox>
          </div>
          <div class="col-md-3">
            <mat-checkbox formControlName="webserverOnly">Web Server only</mat-checkbox>
          </div>
        </div>

      </div>
      <br />
      <div class="col-md-6">
        <button mat-raised-button color="primary" type="submit">Save</button>
      </div>

    </form>
    <ng-template #loading>
      Loading User...
    </ng-template>
  </div>
</div>
